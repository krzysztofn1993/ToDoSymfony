{% extends 'base.html.twig' %}

{% block title %}Your tasks
{% endblock %}

{% block stylesheets %}
	<link rel="stylesheet" type="text/css" href="css/history.css"/>
{% endblock %}

{% block body %}

	<div class="container">
		<div class="row mt-2 justify-content-end">
			<div class="col-1">
				<a href="/tasks">Tasks</a>
			</div>
			<div class="col-1">
				<a href="/logout">Logout</a>
			</div>
		</div>
		<div class="row mt-5">
			<ul class="list-group list-group-flush col-sm-8 mx-auto pl-3">
				<div class="row w-100 border-top border-bottom border-dark mx-auto my-1 py-2">
					<div class="col-sm-6">Task description</div>
					<div class="col-sm-3">Creation date</div>
					<div class="col-sm-3">Deletion date</div>
				</div>
				{% for task in tasks|reverse %}
					<li class="row my-1 mx-auto w-100">
						<div class="col-sm-6">{{ task.task }}</div>
						<div class="col-sm-3">{{  task.creationDate }}</div>
						<div class="col-sm-3">{{  task.deletionDate ?? "---" }}</div>
					</li>
				{% endfor %}
			</ul>
		</div>
		<div class="row">
			<nav class="mx-auto mt-2">
				<ul class="pagination">
					<li class="page-item {% if page is same as(0) %} disabled {% endif %}">
						<a class="page-link" href="/tasks-history?page={% if page is same as(0) %} 0 {% else %} {{ page - 1 }} {% endif %}">Previous</a>
					</li>
					{% for i in 0..pagesToDisplay %}
						<li class="page-item">
							<a class="page-link" href="/tasks-history?page={{ i }}">{{ i }}</a>
						</li>
					{% endfor %}
					<li class="page-item {% if page is same as(pagesToDisplay) %} disabled {% endif %}">
						<a class="page-link" href="/tasks-history?page={% if page is same as(pagesToDisplay) %} {{ page }} {% else %} {{ page + 1 }} {% endif %}">Next</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>

{% endblock %}
